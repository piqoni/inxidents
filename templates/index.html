<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Incidents</title>
    <style>
        html * {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif
        }

        body {
            background-color: #e4efe9;
        }

        .down {
            margin: 2px;
            width: 400px;
            height: 200px;
            background: #F52549;
            display: flex;
            /* Use flexbox for centering */
            justify-content: center;
            /* Center horizontally */
            align-items: center;
            /* Center vertically */
            text-align: center;
            /* Center text horizontally (optional, depending on your text content) */
            border-radius: 0px;

        }


        .up {
            margin: 2px;
            width: 400px;
            height: 200px;
            background: rgb(36, 161, 72);
            background: #50c9c3;
            display: flex;
            /* Use flexbox for centering */
            justify-content: center;
            /* Center horizontally */
            align-items: center;
            /* Center vertically */
            text-align: center;
            /* Center text horizontally (optional, depending on your text content) */
            border-radius: 0px;
        }
        }
    </style>
</head>

<body>
    <h1>Incidents</h1>
    <div hx-ext="sse" sse-connect="/events?stream=messages" sse-swap="message">
    </div>
<ul id="list">
    <!-- List items will be appended here -->
</ul>

    <div class="message"></div>

    <!-- Include the htmx script -->
    <script src="https://unpkg.com/htmx.org@1.9.6"></script>
    <script src="https://unpkg.com/htmx.org/dist/ext/sse.js"></script>
    <script>
        const evtSource = new EventSource("/events?stream=messages");

        evtSource.onmessage = (event) => {
                const newElement = document.createElement("li");
                const eventList = document.getElementById("list");

                newElement.textContent = `message: ${event.data}`;
                eventList.appendChild(newElement);
                console.log(event.data)
            };


    </script>

</body>

</html>
